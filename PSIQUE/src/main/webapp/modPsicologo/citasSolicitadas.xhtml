<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="PlantillaPsicologo.xhtml">

        <ui:define name="title">
            Psicologo
        </ui:define>

        <ui:define name="body">
            <div class="table-responsive">
                <div class="panel filterable">
                    <div class="panel-heading ">
                        <h3 class="centrar panel-title">Citas Solicitadas SILSPA</h3>
                    </div>
                    <table id="Usuarios1" class="table table-striped table-hover" data-toggle="table" data-url="data1.json" data-show-toggle="true" data-show-columns="true" data-search="true" data-show-export="true" data-export-types="['csv', 'png', 'txt', 'excel', 'pdf']" data-height="auto" data-pagination="true">
                        <thead>
                            <tr>
                                <th data-field="Documento" data-align="left" data-halign="center" data-sortable="true" class="col-md-2">Documento</th>
                                <th data-field="Nombres" data-align="left" data-halign="center" data-sortable="true" class="col-md-2">Nombres</th>
                                <th data-field="Primer apellido" data-align="center" data-sortable="true" class="col-md-2">Primer apellido</th>
                                <th data-field="Segundo apellido" data-align="center" data-sortable="true" class="col-md-2">Segundo apellido</th>
                                <th data-field="Fecha" data-align="center" data-sortable="true" class="col-md-2">Fecha</th>
                                <th data-field="Opciones" data-align="center" data-sortable="true" class="col-md-2">Estado</th>
                                <th data-field="Opciones" data-align="center" data-sortable="true" class="col-md-2">Cancelar</th>
                                <th data-field="Opciones" data-align="center" data-sortable="true" class="col-md-2">Aceptar</th>
                            </tr>
                        </thead>

                        <tbody>
                            <ui:repeat var="miLista" value="#{usuarioControlador.mostrarCitasSolicitadas()}">
                                <tr>
                                    <td>#{miLista.idAprendiz.usuario.noDocumento}</td>
                                    <td>#{miLista.idAprendiz.usuario.nombres}</td>
                                    <td>#{miLista.idAprendiz.usuario.primerApellido}</td>
                                    <td>#{miLista.idAprendiz.usuario.segundoApellido}</td>
                                    <td>#{miLista.idAprendiz.usuario.fechaNacimiento}</td>
                                    <td>#{miLista.estado}</td>
                                    <td align="center"> <h:form><h:commandButton value="cancelar" action="#{usuarioControlador.cancelarCita(miLista)}" onclick="return confirm('Desea cancelar esta cita?')"/></h:form> </td>
                                    <td align="center"> <h:form><h:commandButton value="aceptar" action="#{usuarioControlador.aceptarCitar(miLista)}" onclick="return confirm('Desea aceptar esta cita?')"/></h:form> </td>
                                </tr>
                            </ui:repeat>
                        </tbody>
                    </table>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</html>

